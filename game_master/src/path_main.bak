#include "path/path.h"
#include "led/led.h"
#include <stdio.h>

const char *grid_txt[] =
{
	"0000000000000000000",
	"0000000000000000000",
	"0000000000000000000",
	"0000000000000000000",
	"0000000000000000000",
	"0000000000000000000",
	"0000000000000000000",
	"0000000000000000000",
	"0111111111111111110",
	"0000000000000000001"
};

int main (int argc, char** argv) {
    grid_t grid;
    led_inst_t leds;
    led_init(&leds, 10, 19, 3, (uint32_t *)0x40052000);
    {
    	grid_init_file(&grid, grid_txt, 10, 19);
        //grid_init(&grid, 10, 10);
        //grid_print(&grid);
        path_t path = path_get(&grid, (cell_t){9, 17}, (cell_t){0,0});
        path_print(&path);
        array_cell_t_destroy(&path);
    }

    /*{
        grid_fill_random(&grid);
        grid_print(&grid);
        path_t path = path_get(&grid, (cell_t){9, 0}, (cell_t){8,8});
        if(array_cell_t_empty(&path)) {
            printf("No path found!\n");
        }
        else {
            path_print(&path);
        }
        array_cell_t_destroy(&path);
        grid_destroy(&grid);
    }

    {
        grid_init_file(&grid, "4x4.grid");
        grid_print(&grid);
        path_t path = path_get(&grid, (cell_t){0, 3}, (cell_t){3,0});
        if(array_cell_t_empty(&path)) {
            printf("No path found!\n");
        }
        else {
            path_print(&path);
        }
        array_cell_t_destroy(&path);
        grid_destroy(&grid);
    }*/
    grid_destroy(&grid);
    return 0;
}
